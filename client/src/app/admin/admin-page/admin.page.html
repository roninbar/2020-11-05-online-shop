<mat-sidenav-container>

    <mat-sidenav class="sidenav" mode="over" position="start" [opened]="productService.currentProduct" #productDetails>
        <form (ngSubmit)="productDetails.close(); productService.setCurrentProduct(null)">
            <div class="form-group">
                <input class="form-control" type="text" placeholder="Name" name="name" [value]="productService.currentProduct?.name" required>
            </div>
            <div class="form-group">
                <input class="form-control" type="number" placeholder="Price" name="price" min="0" [valueAsNumber]="productService.currentProduct?.price" required>
            </div>
            <div class="form-group">
                <input class="form-control" type="file" placeholder="Image" name="image" required>
            </div>
            <div class="form-group">
                <label for="category">Category:
                    <select class="form-control" placeholder="Category" name="category" id="category" required>
                        <option *ngFor="let category of allCategories$ | async" value="category._id">
                            {{category.name}}
                        </option>
                    </select>
                </label>
            </div>
            <div class="form-group">
                <button class="btn btn-primary mt-3">Save</button>
            </div>
        </form>
    </mat-sidenav>

    <router-outlet></router-outlet>

    <button mat-fab color="primary" (click)="productDetails.open()">
        <mat-icon>add</mat-icon>
    </button>

</mat-sidenav-container>